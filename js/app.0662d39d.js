(function(){"use strict";var t={9899:function(t,e,n){var r=n(144),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:"",flat:""}},[n("v-app-bar-title",{nativeOn:{click:function(e){return t.goHome.apply(null,arguments)}}},[t._v("Posts App")])],1),n("v-main",[n("v-container",[n("v-slide-x-transition",[n("router-view")],1)],1)],1)],1)},i=[],s={name:"App",methods:{goHome(){"home"!==this.$route.name&&this.$router.push({name:"home"})}}},a=s,l=n(1001),c=n(3453),u=n.n(c),d=n(7524),f=n(7199),p=n(7905),m=n(8050),v=n(7877),h=n(5827),b=(0,l.Z)(a,o,i,!1,null,null,null),y=b.exports;u()(b,{VApp:d.Z,VAppBar:f.Z,VAppBarTitle:p.Z,VContainer:m.Z,VMain:v.Z,VSlideXTransition:h.Qn});var Z=n(8345),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-view"},[n("div",{staticClass:"d-flex justify-space-between mb-3"},[n("h1",[t._v("Posts list")]),n("v-btn",{attrs:{color:"success",depressed:""},on:{click:t.openForm}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Post ")],1)],1),t.posts.length>0?t._l(t.posts,(function(e){return n("PostItem",{key:e.id,attrs:{post:e},on:{view:t.viewPost,edit:t.openForm,delete:t.openDeleteModal}})})):t._e(),t.isAllPosts?n("PostLoader",{directives:[{name:"intersect",rawName:"v-intersect",value:t.onIntersect,expression:"onIntersect"}]}):t._e(),n("UIModal",{attrs:{title:"Post Form"},model:{value:t.formModal,callback:function(e){t.formModal=e},expression:"formModal"}},[t.formModal?n("PostForm",{attrs:{"form-object":t.formObject},on:{"close-modal":function(e){t.formModal=!1},submited:t.onSubmited}}):t._e()],1),n("UIModal",{attrs:{title:"Are you sure delete this item?",width:"500"},model:{value:t.deleteModal,callback:function(e){t.deleteModal=e},expression:"deleteModal"}},[n("ConfirmDelete",{on:{yes:t.deletePost,no:function(e){t.deleteModal=!1}}})],1)],2)},_=[],w=n(2018),x=n(917),P=n(6489),C=n(4722),k=n(7957),O=n(9843),V={name:"HomeView",components:{ConfirmDelete:O.Z,PostForm:k.Z,UIModal:C.Z,PostLoader:P.Z,PostItem:w.Z},data(){return{posts:[],page:0,limit:10,total:1,formModal:!1,formObject:new x.Z,deleteModal:!1,deletingPostId:0}},methods:{async fetchPosts(){const{data:t,total:e}=await x.Z.fetchList(this.queryParams);this.posts.push(...t),this.total=e},viewPost(t){this.$router.push({name:"post",params:{id:t}})},openForm(t){this.formObject=t?new x.Z(t):new x.Z,this.formModal=!0},async onSubmited(t){const e=!!t.id;if(e){const e=await t.update(),n=this.posts.findIndex((e=>e.id===t.id));this.posts.splice(n,1,e)}else{const e=await t.create();this.posts.unshift(e)}this.formModal=!1},openDeleteModal(t){this.deleteModal=!0,this.deletingPostId=t},async deletePost(){const t=this.posts.findIndex((t=>t.id===this.deletingPostId));await x.Z.remove(this.deletingPostId),this.deleteModal=!1,this.posts.splice(t,1)},onIntersect(t){t[0].isIntersecting&&this.isAllPosts&&(this.page++,this.fetchPosts())}},computed:{queryParams(){return{_page:this.page,_limit:this.limit}},isAllPosts(){return this.page*this.limit<this.total}},mounted(){}},$=V,I=n(4345),j=n(6428),E=n(6392),M=n.n(E),A=n(8083),S=(0,l.Z)($,g,_,!1,null,null,null),B=S.exports;u()(S,{VBtn:I.Z,VIcon:j.Z}),M()(S,{Intersect:A.Z}),r.Z.use(Z.Z);const T=[{path:"/",name:"home",component:B},{path:"/post/:id",name:"post",component:()=>n.e(561).then(n.bind(n,5561))}],U=new Z.Z({mode:"history",base:"/",routes:T});var L=U,F=n(629);r.Z.use(F.ZP);var D=new F.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),N=n(5671);r.Z.use(N.Z);var q=new N.Z({});r.Z.config.productionTip=!1,new r.Z({router:L,store:D,vuetify:q,render:t=>t(y)}).$mount("#app")},917:function(t,e,n){n.d(e,{Z:function(){return c}});var r=n(3796),o=n(9669),i=n.n(o);let s={NODE_ENV:"production",BASE_URL:"/"}.API_BASE_URL||"https://jsonplaceholder.typicode.com/";var a=i().create({baseURL:s});class l{constructor(t=null){t&&(this.id=t)}static fetchList(t=null){try{return this.axiosIns.get(this.apiUrl,{params:t})}catch(e){throw e}}static async fetchById(t){try{const{data:e}=await this.axiosIns.get(`${this.apiUrl}/${t}/`);return e}catch(e){throw e}}async create(t=this){try{const{data:e}=await this.constructor.axiosIns.post(this.constructor.apiUrl,t);return e}catch(e){throw e}}async update(t=this){try{const{data:e}=await this.constructor.axiosIns.put(`${this.constructor.apiUrl}/${this.id}`,t);return e}catch(e){throw e}}static async remove(t){try{return await this.axiosIns.delete(`${this.apiUrl}/${t}/`)}catch(e){throw e}}}(0,r.Z)(l,"apiUrl",""),(0,r.Z)(l,"axiosIns",a);class c extends l{constructor({id:t,title:e,body:n}={id:null,title:"",body:""}){super(t),this.title=e,this.body=n,this.userId=1}static async fetchList(t=null){const e=await super.fetchList(t);return{data:e.data,total:e.headers["x-total-count"]}}static async fetchPostComments(t){try{const{data:e}=await this.axiosIns.get(`${this.apiUrl}/${t}/comments`);return e}catch(e){throw e}}}(0,r.Z)(c,"apiUrl","posts")},9843:function(t,e,n){n.d(e,{Z:function(){return m}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-actions",[n("v-spacer"),n("div",[n("v-btn",{staticClass:"mr-3",attrs:{color:"error",depressed:""},on:{click:function(e){return t.$emit("yes")}}},[t._v(" Yes ")]),n("v-btn",{attrs:{color:"grey",outlined:""},on:{click:function(e){return t.$emit("no")}}},[t._v(" No ")])],1)],1)},o=[],i={name:"ConfirmDelete"},s=i,a=n(1001),l=n(3453),c=n.n(l),u=n(4345),d=n(7118),f=n(9762),p=(0,a.Z)(s,r,o,!1,null,"25faf2ee",null),m=p.exports;c()(p,{VBtn:u.Z,VCardActions:d.h7,VSpacer:f.Z})},7957:function(t,e,n){n.d(e,{Z:function(){return b}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{staticClass:"mb-5",attrs:{rules:[function(t){return!!t||"Title is required"}],label:"Title",dense:"",outlined:"",clearable:""},model:{value:t.formObj.title,callback:function(e){t.$set(t.formObj,"title",e)},expression:"formObj.title"}}),n("v-textarea",{attrs:{rules:[function(t){return!!t||"Body is required"}],label:"Body",outlined:"",dense:""},model:{value:t.formObj.body,callback:function(e){t.$set(t.formObj,"body",e)},expression:"formObj.body"}}),n("div",{staticClass:"d-flex"},[n("v-spacer"),n("v-btn",{staticClass:"mr-3",attrs:{color:"primary",text:""},on:{click:t.closeModal}},[t._v("Cancel")]),n("v-btn",{attrs:{type:"submit",color:"primary",depressed:""}},[t._v("Save")])],1)],1)},o=[],i=n(917),s={name:"PostForm",props:{formObject:i.Z},data(){return{valid:!1,formObj:new i.Z}},methods:{onSubmit(){this.$refs.form.validate()&&this.$emit("submited",this.formObj)},closeModal(){this.$emit("close-modal")}},created(){this.formObj=new i.Z(this.formObject)}},a=s,l=n(1001),c=n(3453),u=n.n(c),d=n(4345),f=n(6232),p=n(9762),m=n(4661),v=n(4350),h=(0,l.Z)(a,r,o,!1,null,"22c51b92",null),b=h.exports;u()(h,{VBtn:d.Z,VForm:f.Z,VSpacer:p.Z,VTextField:m.Z,VTextarea:v.Z})},2018:function(t,e,n){n.d(e,{Z:function(){return v}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mb-4"},[n("v-card-title",[t._v(t._s(t.post.title))]),n("v-card-text",[t._v(t._s(t.post.body))]),t.hideActions?t._e():n("v-card-actions",{staticClass:"blue lighten-5"},[n("v-btn",{attrs:{color:"primary",outlined:""},on:{click:function(e){return t.$emit("view",t.post.id)}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-eye")]),t._v(" View ")],1),n("v-btn",{attrs:{color:"info",outlined:""},on:{click:function(e){return t.$emit("edit",t.post)}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-pencil")]),t._v(" Edit ")],1),n("v-btn",{attrs:{color:"error",outlined:""},on:{click:function(e){return t.$emit("delete",t.post.id)}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-delete")]),t._v(" Delete ")],1)],1)],1)},o=[],i={name:"PostItem",props:{post:Object,hideActions:{type:Boolean,default:!1}}},s=i,a=n(1001),l=n(3453),c=n.n(l),u=n(4345),d=n(3237),f=n(7118),p=n(6428),m=(0,a.Z)(s,r,o,!1,null,"7c3778da",null),v=m.exports;c()(m,{VBtn:u.Z,VCard:d.Z,VCardActions:f.h7,VCardText:f.ZB,VCardTitle:f.EB,VIcon:p.Z})},6489:function(t,e,n){n.d(e,{Z:function(){return f}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-center justify-center pa-3"},[n("v-progress-circular",{attrs:{indeterminate:""}})],1)},o=[],i={name:"PostLoader"},s=i,a=n(1001),l=n(3453),c=n.n(l),u=n(624),d=(0,a.Z)(s,r,o,!1,null,"0b083a15",null),f=d.exports;c()(d,{VProgressCircular:u.Z})},4722:function(t,e,n){n.d(e,{Z:function(){return b}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.value,"max-width":t.width},on:{input:function(e){return t.$emit("input",e.target.value)},"click:outside":function(e){return t.$emit("input",!1)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("input",!1)}}},[n("v-card",[n("v-card-title",[n("h3",[t._v(t._s(t.title))]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$emit("input",!1)}}},[n("v-icon",[t._v("mdi-close")])],1)],1),n("v-card-text",[t._t("default")],2)],1)],1)},o=[],i={name:"UIModal",props:{value:Boolean,width:{type:String,default:"900px"},title:String}},s=i,a=n(1001),l=n(3453),c=n.n(l),u=n(4345),d=n(3237),f=n(7118),p=n(5049),m=n(6428),v=n(9762),h=(0,a.Z)(s,r,o,!1,null,"7d7826ed",null),b=h.exports;c()(h,{VBtn:u.Z,VCard:d.Z,VCardText:f.ZB,VCardTitle:f.EB,VDialog:p.Z,VIcon:m.Z,VSpacer:v.Z})}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,i){if(!r){var s=1/0;for(u=0;u<t.length;u++){r=t[u][0],o=t[u][1],i=t[u][2];for(var a=!0,l=0;l<r.length;l++)(!1&i||s>=i)&&Object.keys(n.O).every((function(t){return n.O[t](r[l])}))?r.splice(l--,1):(a=!1,i<s&&(s=i));if(a){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[r,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+".4d98049e.js"}}(),function(){n.miniCssF=function(t){return"css/"+t+".f4001f35.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vue-post-app:";n.l=function(r,o,i,s){if(t[r])t[r].push(o);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+i){a=d;break}}a||(l=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+i),a.src=r),t[r]=[o];var f=function(e,n){a.onerror=a.onload=null,clearTimeout(p);var o=t[r];if(delete t[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(t){return t(n)})),e)return e(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),l&&document.head.appendChild(a)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t=function(t,e,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=function(i){if(o.onerror=o.onload=null,"load"===i.type)n();else{var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=a,o.parentNode.removeChild(o),r(l)}};return o.onerror=o.onload=i,o.href=e,document.head.appendChild(o),o},e=function(t,e){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===t||i===e))return o}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){o=s[r],i=o.getAttribute("data-href");if(i===t||i===e)return o}},r=function(r){return new Promise((function(o,i){var s=n.miniCssF(r),a=n.p+s;if(e(s,a))return o();t(r,a,o,i)}))},o={143:0};n.f.miniCss=function(t,e){var n={561:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=r(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}(),function(){var t={143:0};n.f.j=function(e,r){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(n,r){o=t[e]=[n,r]}));r.push(o[2]=i);var s=n.p+n.u(e),a=new Error,l=function(r){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}};n.l(s,l,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,i,s=r[0],a=r[1],l=r[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)var u=l(n)}for(e&&e(r);c<s.length;c++)i=s[c],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},r=self["webpackChunkvue_post_app"]=self["webpackChunkvue_post_app"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(9899)}));r=n.O(r)})();
//# sourceMappingURL=app.0662d39d.js.map